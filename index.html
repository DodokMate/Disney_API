<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--FONTOK-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Dives+Akuru&family=Oregano:ital@0;1&display=swap" rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&family=Noto+Serif+Dives+Akuru&family=Oregano:ital@0;1&display=swap" rel="stylesheet">
    <!--FONTOK-->

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Disney API</title>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <header>
                <h1>Disney karakterek</h1>
            </header>
        </div>

        <button onclick="kepekGeneralas()">Kártyák</button>

        <div class="row">
            <div class="row" id="elso"></div>
            <div class="row" id="masodik"></div>
            <div class="row" id="harmadik"></div>
            <div class="row" id="negyedik"></div>
            <div class="row" id="otodik"></div>
        </div>

        <div class="row">
            <!--footer>
                <h2>Dodok Máté 12/C</h2>
            </footer-->
        </div>
    </div>

    <script>
        async function kepekGeneralas() {
            try {
                const response = await fetch("https://api.disneyapi.dev/character?page=2&pageSize=10");
                const data = await response.json();

                console.log("Lekért adatok:", data);

                if (!data.data || data.data.length === 0) {
                    alert("Nem érkezett karakter adat.");
                    return;
                }

                for (let i = 0; i < data.data.length; i++) {
                    const character = data.data[i];

                    const imageUrl = character.imageUrl || "https://via.placeholder.com/150";
                    const id = character._id;
                    const name = character.name;
                    const films = character.films?.join(", ") || "Nincs adat";
                    const shortFilms = character.shortFilms?.join(", ") || "Nincs adat";
                    const tvShows = character.tvShows?.join(", ") || "Nincs adat";
                    const videoGames = character.videoGames?.join(", ") || "Nincs adat";
                    const parkAttractions = character.parkAttractions?.join(", ") || "Nincs adat";
                    const allies = character.allies?.join(", ") || "Nincs adat";
                    const enemies = character.enemies?.join(", ") || "Nincs adat";

                    const card = `
                        <div class="col-lg-6 col-md-6">
                            <div class="card card_img_div">
                                <img class="card-img img-fluid" src="${imageUrl}" alt="${name}"/>
                            </div>
                        </div>

                        <div class="col-lg-6 col-md-6">
                            <div class="card card_description_div">
                                <p>Id: ${id}</p>
                                <p>Name: ${name}</p>
                                <p>Films: ${films}</p>
                                <p>Short Films: ${shortFilms}</p>
                                <p>TV Shows: ${tvShows}</p>
                                <p>Video Games: ${videoGames}</p>
                                <p>Park Attractions: ${parkAttractions}</p>
                                <p>Allies: ${allies}</p>
                                <p>Enemies: ${enemies}</p>
                            </div>
                        </div>
                    `;

                    if (i < 2) {
                        document.getElementById("elso").innerHTML += card;
                    } else if (i >= 2 && i < 4) {
                        document.getElementById("masodik").innerHTML += card;
                    } else if (i >= 4 && i < 6) {
                        document.getElementById("harmadik").innerHTML += card;
                    } else if (i >= 6 && i < 8) {
                        document.getElementById("negyedik").innerHTML += card;
                    } else {
                        document.getElementById("otodik").innerHTML += card;
                    }
                }

            } catch (error) {
                console.error("Hiba történt:", error);
                alert("Nem sikerült betölteni az adatokat.");
            }
        }
    </script>


</body>

</html>